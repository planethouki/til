# nem2-hon

## 目次

- トランザクションのデータ構造
    - Transfer Transaction
    - 略
    - Aggregate Bonded Transaction
    - Aggregate Complete Transaction
    - Cosignature Transaction
- トランザクションハッシュの計算
- 署名対象のデータ

- トランザクションを作成する

- トランザクションを送信する

- トランザクションの状態を確認する

## データ構造

### Transfer Transaction

以下の値を使ってトランザクションを作成した。

| 項目 | 値 |
|:-----:|:-----:|
| 宛先 | ランダム生成 |
| 送信モザイクID | `77A1969932D987D7` |
| 送信モザイク量 | `1000000` |
| メッセージ | 空文字 |
| 最大手数料 | `20000` |
| 送信者 | ランダム生成 |

作成した署名済みトランザクションのデータを示す。

A50000001D222BCC96CB8F2E677D12AA286CBB6C8CC796023F5D69A477BA013BD270F4A9252D7DF3085C238651FE152BF9025692654CCD7E47199A4ABB319117F767AA069A234CFEE354D683C6F225818D78C94CD2BC80A1380A02D9A354DD42BED6E60701905441204E000000000000F47791A61800000090866E1A131457ECF172889717CA9F846CD1F81A04A4AC067901000100D787D9329996A17740420F0000000000

### サイズ

```
A5000000
```

トランザクションのサイズを示す。

### 署名

```
1D222BCC96CB8F2E677D12AA286CBB6C8CC796023F5D69A477BA013BD270F4A9252D7DF3085C238651FE152BF9025692654CCD7E47199A4ABB319117F767AA06
```

トランザクションへの署名。

### 公開鍵

```
9A234CFEE354D683C6F225818D78C94CD2BC80A1380A02D9A354DD42BED6E607
```

署名したアカウントの公開鍵。また、モザイクの送信者でもある。

### バージョン

```
0190
```

トランザクションのバージョンを表す。`01`はElephantマイルストーンでは固定値。`90`はネットワークタイプが`MIJIN_TEST`であることを示す。

### トランザクションタイプ

```
5441
```

トランスファートランザクションであることを示す。

### 手数料

```
204E000000000000
```

最大手数料を示す。ビッグエンディアンに変換すると`4E20`であり、10進数に変換すると`20000`である。

### デッドライン

```
F47791A618000000
```

この時刻までに承認されなければならないことを示す。ビッグエンディアンに変換すると`18A69177F4`であり、10進数に変換すると`105873766388`である。この値は、ネメシスブロックからの経過ミリ秒を示す。ネメシスブロックのUnixtimeは`1459468800`であるので、デッドラインは`105873766388 + 1459468800 * 1000 = 1565342566388`となり、`2019/08/09 18:22:46`あたりを指し示す。

### 受取人

```
90866E1A131457ECF172889717CA9F846CD1F81A04A4AC0679
```

16進数のアドレスで表す。

### メッセージのサイズ

```
0100
```

ビッグエンディアンに変換すると`0001`であり、10進数に変換すると`1`である。メッセージタイプとメッセージ本文を合わせたサイズとなる。

### 送信モザイク数

```
01
```

モザイクは複数種類送れるため、その数をここに表す。

### メッセージタイプ

```
00
```

メッセージタイプを表す。

### モザイクID

```
D787D9329996A177
```

送信するモザイクのIDを表す。

### モザイク量

```
40420F0000000000
```

送信するモザイクの量を表す。